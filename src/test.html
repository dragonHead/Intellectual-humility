<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>io</title>
<style>
  input:valid {
    color: #aaa;
  }
</style>
<head>
<body>
<form novalidate id="test">
<input type="text" maxlength="200" value="">

</form>
<script>
  window.addEventListener('load', function() {
    const test = document.querySelectorAll("#test input");
    test.forEach(element => {
      console.log(element.getAttribute("required"));
      if (element.getAttribute("required") !== undefined) {
        console.log(element.validity.valueMissing);
        if(element.validity.valueMissing) {
          element.setCustomValidity("test");
          alert('test');
        }
      }
    });
  });
</script>
</body>
</html>
